{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function generateId(): string {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n    const r = Math.random() * 16 | 0;\r\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,yNAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,sLAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS;IACd,OAAO,uCAAuC,OAAO,CAAC,SAAS,SAAS,CAAC;QACvE,MAAM,IAAI,KAAK,MAAM,KAAK,KAAK;QAC/B,MAAM,IAAI,MAAM,MAAM,IAAK,IAAI,MAAM;QACrC,OAAO,EAAE,QAAQ,CAAC;IACpB;AACF"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-white\",\r\n        outline: \"border border-input bg-transparent\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 px-3\",\r\n        lg: \"h-11 px-8\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\ninterface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACvB,0EACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SAAS;YACT,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,MAAM,uBAAS,4WAAM,UAAU,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,oZAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,4WAAM,UAAU,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,oZAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/ollama/simple-chat.ts"],"sourcesContent":["export class ChatManager {\r\n  async sendMessage(message: string) {\r\n    try {\r\n      const response = await fetch('http://localhost:11434/api/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          model: 'deepseek-r1:14b',\r\n          prompt: message,\r\n          stream: false\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to get response: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.response;\r\n    } catch (error) {\r\n      console.error('Chat error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAO,MAAM;IACX,MAAM,YAAY,OAAe,EAAE;QACjC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,uCAAuC;gBAClE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,OAAO;oBACP,QAAQ;oBACR,QAAQ;gBACV;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,SAAS,MAAM,EAAE;YAC9D;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,OAAO,KAAK,QAAQ;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;YAC7B,MAAM;QACR;IACF;AACF"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/storage.ts"],"sourcesContent":["interface Message {\r\n  id: string;\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n  timestamp: number;\r\n}\r\n\r\nconst DB_NAME = 'audio-learning-hub';\r\nconst DB_VERSION = 1;\r\nconst MESSAGES_STORE = 'messages';\r\n\r\nfunction openDB(): Promise<IDBDatabase> {\r\n  return new Promise((resolve, reject) => {\r\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n\r\n    request.onerror = () => reject(request.error);\r\n    request.onsuccess = () => resolve(request.result);\r\n\r\n    request.onupgradeneeded = (event) => {\r\n      const db = (event.target as IDBOpenDBRequest).result;\r\n      if (!db.objectStoreNames.contains(MESSAGES_STORE)) {\r\n        const store = db.createObjectStore(MESSAGES_STORE, { keyPath: 'id' });\r\n        store.createIndex('by-timestamp', 'timestamp');\r\n      }\r\n    };\r\n  });\r\n}\r\n\r\nexport async function saveChatMessage(message: Message): Promise<void> {\r\n  const db = await openDB();\r\n  return new Promise((resolve, reject) => {\r\n    const transaction = db.transaction(MESSAGES_STORE, 'readwrite');\r\n    const store = transaction.objectStore(MESSAGES_STORE);\r\n    const request = store.put(message);\r\n\r\n    request.onerror = () => reject(request.error);\r\n    request.onsuccess = () => resolve();\r\n  });\r\n}\r\n\r\nexport async function getChatHistory(): Promise<Message[]> {\r\n  const db = await openDB();\r\n  return new Promise((resolve, reject) => {\r\n    const transaction = db.transaction(MESSAGES_STORE, 'readonly');\r\n    const store = transaction.objectStore(MESSAGES_STORE);\r\n    const index = store.index('by-timestamp');\r\n    const request = index.getAll();\r\n\r\n    request.onerror = () => reject(request.error);\r\n    request.onsuccess = () => resolve(request.result);\r\n  });\r\n}\r\n\r\nexport async function clearChatHistory(): Promise<void> {\r\n  const db = await openDB();\r\n  return new Promise((resolve, reject) => {\r\n    const transaction = db.transaction(MESSAGES_STORE, 'readwrite');\r\n    const store = transaction.objectStore(MESSAGES_STORE);\r\n    const request = store.clear();\r\n\r\n    request.onerror = () => reject(request.error);\r\n    request.onsuccess = () => resolve();\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;AAOA,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,iBAAiB;AAEvB,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,UAAU,UAAU,IAAI,CAAC,SAAS;QAExC,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;QAEhD,QAAQ,eAAe,GAAG,CAAC;YACzB,MAAM,KAAK,AAAC,MAAM,MAAM,CAAsB,MAAM;YACpD,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,iBAAiB;gBACjD,MAAM,QAAQ,GAAG,iBAAiB,CAAC,gBAAgB;oBAAE,SAAS;gBAAK;gBACnE,MAAM,WAAW,CAAC,gBAAgB;YACpC;QACF;IACF;AACF;AAEO,eAAe,gBAAgB,OAAgB;IACpD,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,GAAG,WAAW,CAAC,gBAAgB;QACnD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,GAAG,CAAC;QAE1B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM;IAC5B;AACF;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,GAAG,WAAW,CAAC,gBAAgB;QACnD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,QAAQ,MAAM,KAAK,CAAC;QAC1B,MAAM,UAAU,MAAM,MAAM;QAE5B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;IAClD;AACF;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,cAAc,GAAG,WAAW,CAAC,gBAAgB;QACnD,MAAM,QAAQ,YAAY,WAAW,CAAC;QACtC,MAAM,UAAU,MAAM,KAAK;QAE3B,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;QAC5C,QAAQ,SAAS,GAAG,IAAM;IAC5B;AACF"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/chat-panel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { ChatManager } from '../lib/ollama/simple-chat';\r\nimport * as storage from '../lib/storage';\r\nimport { generateId } from '../lib/utils';\r\n\r\ninterface Message {\r\n  id: string;\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n  timestamp: number;\r\n}\r\n\r\nexport function ChatPanel() {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const chat = new ChatManager();\r\n\r\n  // Load existing messages\r\n  useEffect(() => {\r\n    async function loadMessages() {\r\n      const history = await storage.getChatHistory();\r\n      setMessages(history);\r\n    }\r\n    loadMessages();\r\n  }, []);\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!input.trim() || isLoading) return;\r\n\r\n    const userMessage: Message = {\r\n      id: generateId(),\r\n      role: 'user',\r\n      content: input.trim(),\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    // Save to IndexedDB and update state\r\n    await storage.saveChatMessage(userMessage);\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await chat.sendMessage(input);\r\n      const assistantMessage: Message = {\r\n        id: generateId(),\r\n        role: 'assistant',\r\n        content: response,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      await storage.saveChatMessage(assistantMessage);\r\n      setMessages(prev => [...prev, assistantMessage]);\r\n    } catch (error) {\r\n      console.error('Failed to get response:', error);\r\n      const errorMessage: Message = {\r\n        id: generateId(),\r\n        role: 'assistant',\r\n        content: 'Sorry, there was an error processing your request.',\r\n        timestamp: Date.now()\r\n      };\r\n      await storage.saveChatMessage(errorMessage);\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-auto p-4 space-y-4\">\r\n        {messages.map((message) => (\r\n          <div key={message.id} \r\n               className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n            <div className={`max-w-[80%] rounded-lg p-3 ${\r\n              message.role === 'user' ? 'bg-blue-500 text-white' : 'bg-gray-100'\r\n            }`}>\r\n              {message.content}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <form onSubmit={handleSubmit} className=\"p-4 border-t\">\r\n        <div className=\"flex gap-2\">\r\n          <Input\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            placeholder=\"Type a message...\"\r\n            disabled={isLoading}\r\n          />\r\n          <Button type=\"submit\" disabled={isLoading}>\r\n            {isLoading ? 'Sending...' : 'Send'}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAgBO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,2WAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,2WAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,2WAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,OAAO,IAAI,sIAAA,CAAA,cAAW;IAE5B,yBAAyB;IACzB,CAAA,GAAA,2WAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,MAAM,UAAU,MAAM,sHAAQ,cAAc;YAC5C,YAAY;QACd;QACA;IACF,GAAG,EAAE;IAEL,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,MAAM,WAAW;QAEhC,MAAM,cAAuB;YAC3B,IAAI,CAAA,GAAA,mHAAA,CAAA,aAAU,AAAD;YACb,MAAM;YACN,SAAS,MAAM,IAAI;YACnB,WAAW,KAAK,GAAG;QACrB;QAEA,qCAAqC;QACrC,MAAM,sHAAQ,eAAe,CAAC;QAC9B,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAY;QAC1C,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,KAAK,WAAW,CAAC;YACxC,MAAM,mBAA4B;gBAChC,IAAI,CAAA,GAAA,mHAAA,CAAA,aAAU,AAAD;gBACb,MAAM;gBACN,SAAS;gBACT,WAAW,KAAK,GAAG;YACrB;YAEA,MAAM,sHAAQ,eAAe,CAAC;YAC9B,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAiB;QACjD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM,eAAwB;gBAC5B,IAAI,CAAA,GAAA,mHAAA,CAAA,aAAU,AAAD;gBACb,MAAM;gBACN,SAAS;gBACT,WAAW,KAAK,GAAG;YACrB;YACA,MAAM,sHAAQ,eAAe,CAAC;YAC9B,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAa;QAC7C,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,oZAAC;QAAI,WAAU;;0BAEb,oZAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,oZAAC;wBACI,WAAW,CAAC,KAAK,EAAE,QAAQ,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;kCACjF,cAAA,oZAAC;4BAAI,WAAW,CAAC,2BAA2B,EAC1C,QAAQ,IAAI,KAAK,SAAS,2BAA2B,eACrD;sCACC,QAAQ,OAAO;;;;;;uBALV,QAAQ,EAAE;;;;;;;;;;0BAYxB,oZAAC;gBAAK,UAAU;gBAAc,WAAU;0BACtC,cAAA,oZAAC;oBAAI,WAAU;;sCACb,oZAAC,iIAAA,CAAA,QAAK;4BACJ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;4BACZ,UAAU;;;;;;sCAEZ,oZAAC,kIAAA,CAAA,SAAM;4BAAC,MAAK;4BAAS,UAAU;sCAC7B,YAAY,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}