{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function formatDate(date: Date) {\r\n  return new Intl.DateTimeFormat('en-US', {\r\n    dateStyle: 'medium',\r\n  }).format(date);\r\n}\r\n\r\nexport function truncate(text: string, length: number) {\r\n  return text.length > length\r\n    ? text.slice(0, length) + '...'\r\n    : text;\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,4NAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,yLAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEO,SAAS,WAAW,IAAU;IACnC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,WAAW;IACb,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,SAAS,IAAY,EAAE,MAAc;IACnD,OAAO,KAAK,MAAM,GAAG,SACjB,KAAK,KAAK,CAAC,GAAG,UAAU,QACxB;AACN"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-white\",\r\n        outline: \"border border-input bg-transparent\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 px-3\",\r\n        lg: \"h-11 px-8\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\ninterface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACvB,0EACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,SAAS;YACT,OAAO;QACT;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,MAAM,uBAAS,oUAAM,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,mWAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,oUAAM,UAAU,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,mWAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/ui/scroll-area.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, forwardedRef) => (\r\n  <ScrollAreaPrimitive.Root\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport \r\n      ref={forwardedRef}\r\n      className=\"h-full w-full rounded-[inherit]\"\r\n    >\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = \"ScrollArea\"\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, forwardedRef) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={forwardedRef}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = \"ScrollBar\"\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;AAAA;AAGA;AAFA;;;;;AAIA,MAAM,2BAAa,oUAAM,UAAU,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,6BACpC,mWAAC,qYAAoB,IAAI;QACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,mWAAC,qYAAoB,QAAQ;gBAC3B,KAAK;gBACL,WAAU;0BAET;;;;;;0BAEH,mWAAC;;;;;0BACD,mWAAC,qYAAoB,MAAM;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,oUAAM,UAAU,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,6BACpD,mWAAC,qYAAoB,mBAAmB;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,+CACF;QAED,GAAG,KAAK;kBAET,cAAA,mWAAC,qYAAoB,eAAe;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/ollama/llm-manager.ts"],"sourcesContent":["import type { ChatMessage } from '../types';\r\n\r\nexport class LLMManager {\r\n  private models: Map<string, string>;\r\n  private activeModel: string;\r\n  private context: ChatMessage[];\r\n\r\n  constructor() {\r\n    this.models = new Map();\r\n    this.context = [];\r\n    \r\n    // Initialize with dual-role models\r\n    this.addModel('architect', 'deepseek-r1:14b');\r\n    this.addModel('developer', 'deepseek-r1:14b');\r\n    \r\n    this.activeModel = 'developer'; // Default model\r\n  }\r\n\r\n  addModel(name: string, modelId: string): void {\r\n    this.models.set(name, modelId);\r\n  }\r\n\r\n  removeModel(name: string): void {\r\n    this.models.delete(name);\r\n    if (this.activeModel === name) {\r\n      const nextModel = this.models.keys().next().value;\r\n      if (!nextModel) {\r\n        throw new Error('Cannot remove last model');\r\n      }\r\n      this.activeModel = nextModel;\r\n    }\r\n  }\r\n\r\n  setActiveModel(name: string): void {\r\n    if (!this.models.has(name)) {\r\n      throw new Error(`Model ${name} not found`);\r\n    }\r\n    this.activeModel = name;\r\n  }\r\n\r\n  getActiveModel(): string {\r\n    return this.activeModel;\r\n  }\r\n\r\n  getAvailableModels(): string[] {\r\n    return Array.from(this.models.keys());\r\n  }\r\n\r\n  clearContext(): void {\r\n    this.context = [];\r\n  }\r\n\r\n  addContext(message: ChatMessage): void {\r\n    this.context.push(message);\r\n  }\r\n\r\n  async generateResponse(prompt: string): Promise<string> {\r\n    try {\r\n      const modelId = this.models.get(this.activeModel);\r\n      if (!modelId) {\r\n        throw new Error('No active model configured');\r\n      }\r\n\r\n      const rolePrompt = this.activeModel === 'architect'\r\n        ? `You are a senior software architect focused on high-level system design, architecture patterns, and best practices. \r\nAnalyze requests from an architectural perspective, considering:\r\n- System design and architecture\r\n- Scalability and performance\r\n- Integration patterns\r\n- Best practices and design principles\r\n- Trade-offs and technical decisions\r\n\r\nQuestion/Request: ${prompt}`\r\n        : `You are a senior software developer focused on practical implementation details and coding. \r\nAnalyze requests from a development perspective, considering:\r\n- Code implementation details\r\n- Programming patterns and practices\r\n- Error handling and edge cases\r\n- Testing and debugging approaches\r\n- Performance optimizations\r\n\r\nQuestion/Request: ${prompt}`;\r\n\r\n      console.debug('Sending request to Ollama:', {\r\n        model: modelId,\r\n        prompt: rolePrompt,\r\n        stream: false\r\n      });\r\n\r\n      const response = await fetch('http://localhost:11434/api/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          model: modelId,\r\n          prompt: rolePrompt,\r\n          stream: false\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Ollama API error: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.debug('Ollama response:', data);\r\n\r\n      // Add response to context\r\n      this.addContext({\r\n        id: Date.now().toString(),\r\n        role: 'assistant',\r\n        content: data.response,\r\n        timestamp: Date.now(),\r\n      });\r\n\r\n      return data.response;\r\n    } catch (error) {\r\n      console.error('LLM request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async generateStreamingResponse(prompt: string, onChunk: (chunk: string) => void): Promise<void> {\r\n    try {\r\n      const modelId = this.models.get(this.activeModel);\r\n      if (!modelId) {\r\n        throw new Error('No active model configured');\r\n      }\r\n\r\n      const rolePrompt = this.activeModel === 'architect'\r\n        ? `You are a senior software architect focused on high-level system design, architecture patterns, and best practices. \r\nAnalyze requests from an architectural perspective, considering:\r\n- System design and architecture\r\n- Scalability and performance\r\n- Integration patterns\r\n- Best practices and design principles\r\n- Trade-offs and technical decisions\r\n\r\nQuestion/Request: ${prompt}`\r\n        : `You are a senior software developer focused on practical implementation details and coding. \r\nAnalyze requests from a development perspective, considering:\r\n- Code implementation details\r\n- Programming patterns and practices\r\n- Error handling and edge cases\r\n- Testing and debugging approaches\r\n- Performance optimizations\r\n\r\nQuestion/Request: ${prompt}`;\r\n\r\n      console.debug('Sending streaming request to Ollama:', {\r\n        model: modelId,\r\n        prompt: rolePrompt,\r\n        stream: true\r\n      });\r\n\r\n      const response = await fetch('http://localhost:11434/api/generate', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          model: modelId,\r\n          prompt: rolePrompt,\r\n          stream: true\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Ollama API error: ${response.status}`);\r\n      }\r\n\r\n      const reader = response.body?.getReader();\r\n      if (!reader) throw new Error('No response body');\r\n\r\n      let fullResponse = '';\r\n      const decoder = new TextDecoder();\r\n\r\n      try {\r\n        while (true) {\r\n          const { done, value } = await reader.read();\r\n          if (done) break;\r\n\r\n          const text = decoder.decode(value);\r\n          const lines = text.split('\\n').filter(line => line.trim());\r\n          \r\n          for (const line of lines) {\r\n            try {\r\n              const data = JSON.parse(line);\r\n              if (data.response) {\r\n                onChunk(data.response);\r\n                fullResponse += data.response;\r\n              }\r\n            } catch (e) {\r\n              console.warn('Failed to parse chunk:', line);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Add complete response to context\r\n        this.addContext({\r\n          id: Date.now().toString(),\r\n          role: 'assistant',\r\n          content: fullResponse,\r\n          timestamp: Date.now(),\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Streaming error:', error);\r\n        throw error;\r\n      } finally {\r\n        reader.releaseLock();\r\n      }\r\n    } catch (error) {\r\n      console.error('LLM streaming request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/lib/storage/chat-storage.ts"],"sourcesContent":["import type { ChatMessage } from '../types';\r\n\r\nexport interface StoredChat {\r\n  id: string;\r\n  messages: ChatMessage[];\r\n  model: string;\r\n  createdAt: number;\r\n  updatedAt: number;\r\n}\r\n\r\nexport class ChatStorage {\r\n  private static instance: ChatStorage;\r\n  private readonly storageKey = 'audio-learning-hub-chats';\r\n\r\n  private constructor() {\r\n    // Private constructor to enforce singleton\r\n  }\r\n\r\n  static getInstance(): ChatStorage {\r\n    if (!ChatStorage.instance) {\r\n      ChatStorage.instance = new ChatStorage();\r\n    }\r\n    return ChatStorage.instance;\r\n  }\r\n\r\n  getAllChats(): StoredChat[] {\r\n    try {\r\n      const chatsJson = localStorage.getItem(this.storageKey);\r\n      if (!chatsJson) return [];\r\n      \r\n      const chats = JSON.parse(chatsJson);\r\n      return Array.isArray(chats) ? chats : [];\r\n    } catch (error) {\r\n      console.error('Error loading chats:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  getChat(id: string): StoredChat | null {\r\n    const chats = this.getAllChats();\r\n    return chats.find(chat => chat.id === id) ?? null;\r\n  }\r\n\r\n  createChat(model: string): StoredChat {\r\n    const now = Date.now();\r\n    const newChat: StoredChat = {\r\n      id: now.toString(),\r\n      messages: [],\r\n      model,\r\n      createdAt: now,\r\n      updatedAt: now,\r\n    };\r\n\r\n    const chats = this.getAllChats();\r\n    chats.unshift(newChat);\r\n    this.saveChats(chats);\r\n\r\n    return newChat;\r\n  }\r\n\r\n  updateChat(id: string, messages: ChatMessage[], model: string): void {\r\n    const chats = this.getAllChats();\r\n    const index = chats.findIndex(chat => chat.id === id);\r\n    \r\n    if (index !== -1) {\r\n      chats[index] = {\r\n        ...chats[index],\r\n        messages,\r\n        model,\r\n        updatedAt: Date.now(),\r\n      };\r\n      this.saveChats(chats);\r\n    }\r\n  }\r\n\r\n  deleteChat(id: string): void {\r\n    const chats = this.getAllChats();\r\n    const filteredChats = chats.filter(chat => chat.id !== id);\r\n    this.saveChats(filteredChats);\r\n  }\r\n\r\n  exportChat(id: string): string {\r\n    const chat = this.getChat(id);\r\n    if (!chat) throw new Error(`Chat not found: ${id}`);\r\n    return JSON.stringify(chat, null, 2);\r\n  }\r\n\r\n  private saveChats(chats: StoredChat[]): void {\r\n    try {\r\n      localStorage.setItem(this.storageKey, JSON.stringify(chats));\r\n    } catch (error) {\r\n      console.error('Error saving chats:', error);\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAUO,MAAM;IACX,OAAe,SAAsB;IACpB,aAAa,2BAA2B;IAEzD,aAAsB;IACpB,2CAA2C;IAC7C;IAEA,OAAO,cAA2B;QAChC,IAAI,CAAC,YAAY,QAAQ,EAAE;YACzB,YAAY,QAAQ,GAAG,IAAI;QAC7B;QACA,OAAO,YAAY,QAAQ;IAC7B;IAEA,cAA4B;QAC1B,IAAI;YACF,MAAM,YAAY,aAAa,OAAO,CAAC,IAAI,CAAC,UAAU;YACtD,IAAI,CAAC,WAAW,OAAO,EAAE;YAEzB,MAAM,QAAQ,KAAK,KAAK,CAAC;YACzB,OAAO,MAAM,OAAO,CAAC,SAAS,QAAQ,EAAE;QAC1C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO,EAAE;QACX;IACF;IAEA,QAAQ,EAAU,EAAqB;QACrC,MAAM,QAAQ,IAAI,CAAC,WAAW;QAC9B,OAAO,MAAM,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,OAAO;IAC/C;IAEA,WAAW,KAAa,EAAc;QACpC,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,UAAsB;YAC1B,IAAI,IAAI,QAAQ;YAChB,UAAU,EAAE;YACZ;YACA,WAAW;YACX,WAAW;QACb;QAEA,MAAM,QAAQ,IAAI,CAAC,WAAW;QAC9B,MAAM,OAAO,CAAC;QACd,IAAI,CAAC,SAAS,CAAC;QAEf,OAAO;IACT;IAEA,WAAW,EAAU,EAAE,QAAuB,EAAE,KAAa,EAAQ;QACnE,MAAM,QAAQ,IAAI,CAAC,WAAW;QAC9B,MAAM,QAAQ,MAAM,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;QAElD,IAAI,UAAU,CAAC,GAAG;YAChB,KAAK,CAAC,MAAM,GAAG;gBACb,GAAG,KAAK,CAAC,MAAM;gBACf;gBACA;gBACA,WAAW,KAAK,GAAG;YACrB;YACA,IAAI,CAAC,SAAS,CAAC;QACjB;IACF;IAEA,WAAW,EAAU,EAAQ;QAC3B,MAAM,QAAQ,IAAI,CAAC,WAAW;QAC9B,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;QACvD,IAAI,CAAC,SAAS,CAAC;IACjB;IAEA,WAAW,EAAU,EAAU;QAC7B,MAAM,OAAO,IAAI,CAAC,OAAO,CAAC;QAC1B,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM,CAAC,gBAAgB,EAAE,IAAI;QAClD,OAAO,KAAK,SAAS,CAAC,MAAM,MAAM;IACpC;IAEQ,UAAU,KAAmB,EAAQ;QAC3C,IAAI;YACF,aAAa,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,SAAS,CAAC;QACvD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC;IACF;AACF"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/chat-panel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { ScrollArea } from './ui/scroll-area';\r\nimport { LLMManager } from '../lib/ollama/llm-manager';\r\nimport type { ChatMessage } from '../lib/types';\r\nimport { ChatStorage, type StoredChat } from '../lib/storage/chat-storage';\r\n\r\ninterface ChatPanelProps {\r\n  currentChat: StoredChat;\r\n  onChatUpdate: (chat: StoredChat) => void;\r\n}\r\n\r\nexport function ChatPanel({ currentChat, onChatUpdate }: ChatPanelProps) {\r\n  const [input, setInput] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedModel, setSelectedModel] = useState(currentChat.model);\r\n  const [llmManager] = useState(() => new LLMManager());\r\n  const [chatStorage] = useState(() => ChatStorage.getInstance());\r\n\r\n  useEffect(() => {\r\n    const scrollContainer = document.querySelector('[data-radix-scroll-area-viewport]');\r\n    if (scrollContainer) {\r\n      requestAnimationFrame(() => {\r\n        scrollContainer.scrollTop = scrollContainer.scrollHeight;\r\n      });\r\n    }\r\n  }, [currentChat.messages]);\r\n\r\n  const handleModelChange = useCallback((model: string) => {\r\n    setSelectedModel(model);\r\n    llmManager.setActiveModel(model);\r\n    chatStorage.updateChat(currentChat.id, currentChat.messages, model);\r\n    onChatUpdate({\r\n      ...currentChat,\r\n      model,\r\n    });\r\n  }, [currentChat, llmManager, onChatUpdate, chatStorage]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!input.trim() || isLoading) return;\r\n\r\n    const trimmedInput = input.trim();\r\n    setInput('');\r\n    setIsLoading(true);\r\n\r\n    const userMessage: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      role: 'user' as const,\r\n      content: trimmedInput,\r\n      timestamp: Date.now(),\r\n    };\r\n\r\n    const updatedMessages = [...currentChat.messages, userMessage];\r\n    onChatUpdate({\r\n      ...currentChat,\r\n      messages: updatedMessages,\r\n    });\r\n    chatStorage.updateChat(currentChat.id, updatedMessages, selectedModel);\r\n\r\n    try {\r\n      let response = '';\r\n      await llmManager.generateStreamingResponse(trimmedInput, (chunk) => {\r\n        response += chunk;\r\n        const lastMessage = updatedMessages[updatedMessages.length - 1];\r\n        \r\n        const newMessages = lastMessage?.role === 'assistant'\r\n          ? [...updatedMessages.slice(0, -1), { ...lastMessage, content: response }]\r\n          : [...updatedMessages, {\r\n              id: Date.now().toString(),\r\n              role: 'assistant' as const,\r\n              content: response,\r\n              timestamp: Date.now(),\r\n            }];\r\n\r\n        chatStorage.updateChat(currentChat.id, newMessages, selectedModel);\r\n        onChatUpdate({\r\n          ...currentChat,\r\n          messages: newMessages,\r\n        });\r\n      });\r\n    } catch (error) {\r\n      console.error('Error generating response:', error);\r\n      const errorText = error instanceof Error ? error.message : 'An unexpected error occurred';\r\n      const errorMessage: ChatMessage = {\r\n        id: Date.now().toString(),\r\n        role: 'assistant' as const,\r\n        content: `Error: ${errorText}. Please ensure Ollama is running and try again.`,\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      const updatedMessages = [...currentChat.messages, errorMessage];\r\n      onChatUpdate({\r\n        ...currentChat,\r\n        messages: updatedMessages,\r\n      });\r\n      chatStorage.updateChat(currentChat.id, updatedMessages, selectedModel);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const exportChat = useCallback(async () => {\r\n    if (!currentChat) return;\r\n    \r\n    try {\r\n      const chatJson = chatStorage.exportChat(currentChat.id);\r\n      const blob = new Blob([chatJson], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `chat-export-${new Date().toISOString()}.json`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Error exporting chat:', error);\r\n    }\r\n  }, [currentChat, chatStorage]);\r\n\r\n  const clearChat = useCallback(() => {\r\n    const newChat = chatStorage.createChat(selectedModel);\r\n    onChatUpdate(newChat);\r\n    llmManager.clearContext();\r\n  }, [selectedModel, llmManager, onChatUpdate, chatStorage]);\r\n\r\n  const deleteChat = useCallback(() => {\r\n    chatStorage.deleteChat(currentChat.id);\r\n    const chats = chatStorage.getAllChats();\r\n    \r\n    if (chats.length > 0) {\r\n      onChatUpdate(chats[0]);\r\n      setSelectedModel(chats[0].model);\r\n    } else {\r\n      const newChat = chatStorage.createChat(selectedModel);\r\n      onChatUpdate(newChat);\r\n    }\r\n    \r\n    llmManager.clearContext();\r\n  }, [currentChat.id, selectedModel, llmManager, onChatUpdate, chatStorage]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full border rounded-lg p-4 gap-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant={selectedModel === 'architect' ? 'default' : 'outline'}\r\n            onClick={() => handleModelChange('architect')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path d=\"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7-7H4a2 2 0 0 0-2 2v17Z\" />\r\n              <path d=\"M15 2v7h7\" />\r\n            </svg>\r\n            Architect Mode\r\n          </Button>\r\n          <Button\r\n            variant={selectedModel === 'developer' ? 'default' : 'outline'}\r\n            onClick={() => handleModelChange('developer')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"16\"\r\n              height=\"16\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path d=\"m8 3 4 8 5-5 5 15H2L8 3z\" />\r\n            </svg>\r\n            Developer Mode\r\n          </Button>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button onClick={exportChat} variant=\"outline\" size=\"sm\">\r\n            Export\r\n          </Button>\r\n          <Button onClick={clearChat} variant=\"outline\" size=\"sm\">\r\n            New Chat\r\n          </Button>\r\n          <Button onClick={deleteChat} variant=\"outline\" size=\"sm\">\r\n            Delete\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <ScrollArea className=\"flex-1 p-4\">\r\n        <div className=\"space-y-4\">\r\n          {currentChat?.messages.map((message) => (\r\n            <div\r\n              key={message.id}\r\n              className={`flex ${\r\n                message.role === 'user' ? 'justify-end' : 'justify-start'\r\n              }`}\r\n            >\r\n              <div\r\n                className={`max-w-[80%] rounded-lg p-3 ${\r\n                  message.role === 'user'\r\n                    ? 'bg-blue-500 text-white'\r\n                    : 'bg-gray-100'\r\n                }`}\r\n              >\r\n                <p className=\"whitespace-pre-wrap\">{message.content}</p>\r\n                <span className=\"text-xs opacity-50 mt-1 block\">\r\n                  {new Date(message.timestamp).toLocaleTimeString()}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {isLoading && (\r\n            <div className=\"flex justify-start\">\r\n              <div className=\"bg-gray-100 rounded-lg p-3\">\r\n                <div className=\"animate-pulse\">Thinking...</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      <form onSubmit={handleSubmit} className=\"flex gap-2\">\r\n        <Input\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Type your message...\"\r\n          disabled={isLoading}\r\n          className=\"flex-1\"\r\n        />\r\n        <Button type=\"submit\" disabled={isLoading}>\r\n          Send\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/chat-list.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from './ui/button';\r\nimport { ScrollArea } from './ui/scroll-area';\r\nimport type { StoredChat } from '../lib/storage/chat-storage';\r\n\r\ninterface ChatListProps {\r\n  chats: StoredChat[];\r\n  currentChat: StoredChat;\r\n  onChatSelect: (chat: StoredChat) => void;\r\n}\r\n\r\nexport function ChatList({ chats, currentChat, onChatSelect }: ChatListProps) {\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <div className=\"p-4 border-b\">\r\n        <h2 className=\"text-lg font-semibold\">Chats</h2>\r\n      </div>\r\n      <ScrollArea className=\"flex-1\">\r\n        <div className=\"p-2 space-y-2\">\r\n          {chats.map((chat) => (\r\n            <Button\r\n              key={chat.id}\r\n              variant={chat.id === currentChat.id ? 'default' : 'ghost'}\r\n              className=\"w-full justify-start text-left\"\r\n              onClick={() => onChatSelect(chat)}\r\n            >\r\n              <div className=\"truncate\">\r\n                {chat.messages.length > 0\r\n                  ? chat.messages[0].content.slice(0, 30) + '...'\r\n                  : 'New conversation'}\r\n              </div>\r\n              <div className=\"text-xs opacity-50 mt-1\">\r\n                {new Date(chat.messages[0]?.timestamp ?? Date.now()).toLocaleString()}\r\n              </div>\r\n            </Button>\r\n          ))}\r\n        </div>\r\n      </ScrollArea>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAiB;IAC1E,qBACE,mWAAC;QAAI,WAAU;;0BACb,mWAAC;gBAAI,WAAU;0BACb,cAAA,mWAAC;oBAAG,WAAU;8BAAwB;;;;;;;;;;;0BAExC,mWAAC,6IAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,mWAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,mWAAC,qIAAA,CAAA,SAAM;4BAEL,SAAS,KAAK,EAAE,KAAK,YAAY,EAAE,GAAG,YAAY;4BAClD,WAAU;4BACV,SAAS,IAAM,aAAa;;8CAE5B,mWAAC;oCAAI,WAAU;8CACZ,KAAK,QAAQ,CAAC,MAAM,GAAG,IACpB,KAAK,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,MAAM,QACxC;;;;;;8CAEN,mWAAC;oCAAI,WAAU;8CACZ,IAAI,KAAK,KAAK,QAAQ,CAAC,EAAE,EAAE,aAAa,KAAK,GAAG,IAAI,cAAc;;;;;;;2BAXhE,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAmB1B;KA7BgB"}},
    {"offset": {"line": 1014, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1020, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/alex/testing-browser/audio-learning-hub/src/components/chat-container.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { ChatPanel } from './chat-panel';\r\nimport { ChatList } from './chat-list';\r\nimport { ChatStorage, type StoredChat } from '../lib/storage/chat-storage';\r\n\r\nexport function ChatContainer() {\r\n  const [chatStorage] = useState(() => ChatStorage.getInstance());\r\n  const [currentChat, setCurrentChat] = useState<StoredChat | null>(null);\r\n  const [chats, setChats] = useState<StoredChat[]>([]);\r\n\r\n  useEffect(() => {\r\n    // Load or initialize chats\r\n    const loadedChats = chatStorage.getAllChats();\r\n    if (loadedChats.length === 0) {\r\n      // Create initial chat with default model\r\n      const newChat = chatStorage.createChat('developer');\r\n      setChats([newChat]);\r\n      setCurrentChat(newChat);\r\n    } else {\r\n      setChats(loadedChats);\r\n      setCurrentChat(loadedChats[0]);\r\n    }\r\n  }, [chatStorage]);\r\n\r\n  const handleChatSelect = (chat: StoredChat) => {\r\n    setCurrentChat(chat);\r\n  };\r\n\r\n  const handleChatUpdate = (updatedChat: StoredChat) => {\r\n    setCurrentChat(updatedChat);\r\n    setChats(prevChats => {\r\n      const index = prevChats.findIndex(chat => chat.id === updatedChat.id);\r\n      if (index === -1) {\r\n        // New chat\r\n        return [...prevChats, updatedChat];\r\n      } else {\r\n        // Update existing chat\r\n        const newChats = [...prevChats];\r\n        newChats[index] = updatedChat;\r\n        return newChats;\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!currentChat) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen\">\r\n      <div className=\"w-64 border-r\">\r\n        <ChatList\r\n          chats={chats}\r\n          currentChat={currentChat}\r\n          onChatSelect={handleChatSelect}\r\n        />\r\n      </div>\r\n      <div className=\"flex-1\">\r\n        <ChatPanel\r\n          currentChat={currentChat}\r\n          onChatUpdate={handleChatUpdate}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,mUAAA,CAAA,WAAQ,AAAD;kCAAE,IAAM,2IAAA,CAAA,cAAW,CAAC,WAAW;;IAC5D,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mUAAA,CAAA,WAAQ,AAAD,EAAqB;IAClE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mUAAA,CAAA,WAAQ,AAAD,EAAgB,EAAE;IAEnD,CAAA,GAAA,mUAAA,CAAA,YAAS,AAAD;mCAAE;YACR,2BAA2B;YAC3B,MAAM,cAAc,YAAY,WAAW;YAC3C,IAAI,YAAY,MAAM,KAAK,GAAG;gBAC5B,yCAAyC;gBACzC,MAAM,UAAU,YAAY,UAAU,CAAC;gBACvC,SAAS;oBAAC;iBAAQ;gBAClB,eAAe;YACjB,OAAO;gBACL,SAAS;gBACT,eAAe,WAAW,CAAC,EAAE;YAC/B;QACF;kCAAG;QAAC;KAAY;IAEhB,MAAM,mBAAmB,CAAC;QACxB,eAAe;IACjB;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe;QACf,SAAS,CAAA;YACP,MAAM,QAAQ,UAAU,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,YAAY,EAAE;YACpE,IAAI,UAAU,CAAC,GAAG;gBAChB,WAAW;gBACX,OAAO;uBAAI;oBAAW;iBAAY;YACpC,OAAO;gBACL,uBAAuB;gBACvB,MAAM,WAAW;uBAAI;iBAAU;gBAC/B,QAAQ,CAAC,MAAM,GAAG;gBAClB,OAAO;YACT;QACF;IACF;IAEA,IAAI,CAAC,aAAa;QAChB,qBAAO,mWAAC;sBAAI;;;;;;IACd;IAEA,qBACE,mWAAC;QAAI,WAAU;;0BACb,mWAAC;gBAAI,WAAU;0BACb,cAAA,mWAAC,qIAAA,CAAA,WAAQ;oBACP,OAAO;oBACP,aAAa;oBACb,cAAc;;;;;;;;;;;0BAGlB,mWAAC;gBAAI,WAAU;0BACb,cAAA,mWAAC,sIAAA,CAAA,YAAS;oBACR,aAAa;oBACb,cAAc;;;;;;;;;;;;;;;;;AAKxB;GA5DgB;KAAA"}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}